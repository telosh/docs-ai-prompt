# C# (.NET) バックエンド設計評価テンプレート

## 📋 プロジェクト概要

**プロジェクトの種類**: [例: Web API、gRPC サービス、マイクロサービス、バックグラウンドサービス等]

### 🛠️ 技術スタック
- **.NET**: [バージョン] ([.NET Framework / .NET Core / .NET 5+])
- **フレームワーク**: [例: ASP.NET Core, Minimal APIs, gRPC等]
- **データベース**: [例: SQL Server, PostgreSQL, MySQL, CosmosDB等]
- **ORM**: [例: Entity Framework Core, Dapper, NHibernate等]
- **認証・認可**: [例: Identity, JWT Bearer, OAuth2, Azure AD等]
- **バリデーション**: [例: FluentValidation, Data Annotations等]
- **テスト**: [例: xUnit, NUnit, MSTest, Moq等]
- **API文書化**: [例: Swagger/OpenAPI, NSwag等]
- **ログ**: [例: Serilog, NLog, Microsoft.Extensions.Logging等]
- **その他**: [例: AutoMapper, MediatR, Hangfire, SignalR等]

### 📁 ディレクトリ構造
```
[プロジェクト名]/
├── [ルートディレクトリ構造を記載]
│   ├── 
│   ├── 
│   └── 
├── 
├── 
└── 
```

### 🔗 リポジトリ情報
- **GitHub**: [リポジトリURL（任意）]
- **API URL**: [本番環境URL（任意）]

---

## 📊 評価基準と詳細レビュー

### 1. プロジェクト構成とアーキテクチャ (15点満点)

**評価ポイント**:
- [ ] Clean Architecture / Onion Architectureの実装
- [ ] ソリューション・プロジェクト構成
- [ ] 依存性注入の適切な活用
- [ ] 設定管理（appsettings.json等）
- [ ] レイヤー分離の実装

**確認項目**:
- プロジェクト間の依存関係
- 関心の分離
- SOLID原則の適用
- 設定の外部化

### 2. ASP.NET Core活用 (20点満点)

**評価ポイント**:
- [ ] ミドルウェアパイプラインの設計
- [ ] コントローラー・アクション設計
- [ ] 依存性注入コンテナの活用
- [ ] 設定とサービス登録
- [ ] ホスティングモデルの理解

**確認項目**:
- Startup.cs / Program.csの適切な設定
- ミドルウェアの順序
- スコープ管理（Singleton、Scoped、Transient）
- ヘルスチェックの実装

### 3. データアクセス層設計 (15点満点)

**評価ポイント**:
- [ ] Entity Framework Core の適切な使用
- [ ] Code First / Database First の選択
- [ ] マイグレーション管理
- [ ] リポジトリパターンの実装
- [ ] パフォーマンス最適化

**確認項目**:
- DbContextの設定
- エンティティ設計
- クエリ最適化
- 接続文字列管理

### 4. Web API設計と実装 (15点満点)

**評価ポイント**:
- [ ] RESTful設計の原則遵守
- [ ] アクションメソッドの設計
- [ ] モデルバインディング
- [ ] レスポンス形式の統一
- [ ] OpenAPI仕様の活用

**確認項目**:
- 属性ルーティング
- DTOとエンティティの分離
- バリデーション実装
- エラーハンドリング

### 5. セキュリティと認証・認可 (15点満点)

**評価ポイント**:
- [ ] ASP.NET Core Identity の活用
- [ ] JWT認証の実装
- [ ] 認可ポリシーの設定
- [ ] CORS設定
- [ ] セキュリティヘッダー

**確認項目**:
- 認証スキームの設定
- ロールベース・クレームベース認可
- セキュリティ脆弱性対策
- HTTPS設定

### 6. コード品質と.NET ベストプラクティス (10点満点)

**評価ポイント**:
- [ ] C#言語機能の適切な活用
- [ ] 非同期プログラミング（async/await）
- [ ] 例外処理の実装
- [ ] メモリ管理とリソース管理
- [ ] コーディング規約の統一

**確認項目**:
- LINQ の適切な使用
- using文、IDisposableの活用
- nullable reference typesの使用
- 静的解析ツールの導入

### 7. テスト・監視・運用 (10点満点)

**評価ポイント**:
- [ ] 単体テスト・統合テストの実装
- [ ] テストカバレッジ
- [ ] ログ設計と実装
- [ ] パフォーマンス監視
- [ ] ヘルスチェックとメトリクス

**確認項目**:
- xUnit、Moqの活用
- テストデータの管理
- 構造化ログ
- Application Insights等の監視ツール

---

## 🎯 評価実行のための確認項目

### 📋 詳細チェックリスト

#### プロジェクト構成
- [ ] .csprojファイルの設定が適切か
- [ ] ソリューション構成が適切に分離されているか
- [ ] NuGetパッケージが適切に管理されているか
- [ ] 設定ファイルが環境別に管理されているか

#### ASP.NET Core
- [ ] ミドルウェアパイプラインが適切に設定されているか
- [ ] 依存性注入が効果的に活用されているか
- [ ] コントローラーが適切に設計されているか
- [ ] ルーティングが適切に設定されているか

#### データアクセス
- [ ] Entity Framework Coreが適切に設定されているか
- [ ] エンティティ設計が適切か
- [ ] マイグレーションが管理されているか
- [ ] パフォーマンスが最適化されているか

#### Web API
- [ ] RESTful設計が実装されているか
- [ ] DTOが適切に定義されているか
- [ ] バリデーションが実装されているか
- [ ] OpenAPI文書が生成されているか

#### セキュリティ
- [ ] 認証・認可が適切に実装されているか
- [ ] セキュリティ設定が適切か
- [ ] 機密情報が適切に管理されているか
- [ ] OWASP対策が実装されているか

#### コード品質
- [ ] C#のベストプラクティスが適用されているか
- [ ] 非同期処理が適切に実装されているか
- [ ] 例外処理が適切に実装されているか
- [ ] コーディング規約が統一されているか

---

## 📝 評価レポート出力フォーマット

```markdown
## [プロジェクト名] C# (.NET) バックエンド設計評価レポート

### 総合スコア: XX / 100点

---

### 項目別評価

| 評価項目 | スコア | 評価理由 |
| :--- | :---: | :--- |
| **プロジェクト構成とアーキテクチャ** | X/15 | [具体的な評価理由を記載] |
| **ASP.NET Core活用** | X/20 | [具体的な評価理由を記載] |
| **データアクセス層設計** | X/15 | [具体的な評価理由を記載] |
| **Web API設計と実装** | X/15 | [具体的な評価理由を記載] |
| **セキュリティと認証・認可** | X/15 | [具体的な評価理由を記載] |
| **コード品質と.NETベストプラクティス** | X/10 | [具体的な評価理由を記載] |
| **テスト・監視・運用** | X/10 | [具体的な評価理由を記載] |

---

### 💎 優れた点

- [特に優れていると感じた設計や実装を具体的に記載]
- [.NETフレームワークの活用方法]
- [アーキテクチャ設計]
- [セキュリティ対策]

---

### 🛠️ 改善提案

#### **[提案1: タイトル]**
- **現状の課題**: [具体的な問題点を記載]
- **改善案**: [解決方法を記載]
- **優先度**: [高/中/低]
- **コード例**:
```csharp
// Before (現状)
[現在のコード例]

// After (改善後)
[改善後のコード例]
```

#### **[提案2: タイトル]**
- **現状の課題**: [具体的な問題点を記載]
- **改善案**: [解決方法を記載]
- **優先度**: [高/中/低]
- **コード例**:
```csharp
// Before (現状)
[現在のコード例]

// After (改善後)
[改善後のコード例]
```

---

### 📚 参考資料

- [ASP.NET Core公式ドキュメント](https://docs.microsoft.com/aspnet/core/)
- [Entity Framework Core公式ドキュメント](https://docs.microsoft.com/ef/core/)
- [.NET API設計ガイドライン](https://docs.microsoft.com/dotnet/standard/design-guidelines/)
- [C#プログラミングガイド](https://docs.microsoft.com/dotnet/csharp/programming-guide/)
- [xUnit公式ドキュメント](https://xunit.net/docs/getting-started/netcore/cmdline)

---

### 📞 次のステップ

1. **高優先度の改善項目から着手**
2. **コードレビュー基準の統一**
3. **CI/CDパイプラインの強化**
4. **監視・ログシステムの改善**

---

*評価日: [YYYY/MM/DD]*
*評価者: [評価者名]*
```

---

## 💡 使用方法

1. **プロジェクト概要の記入**: 技術スタックとディレクトリ構造を記載
2. **チェックリストの実行**: 各評価項目を順番に確認
3. **スコアリング**: 各項目を満点で評価
4. **レポート作成**: 評価結果をまとめてレポート作成
5. **改善計画の策定**: 優先度順に実装計画を立てる

---

## 📝 C# (.NET) 特有の評価ポイント

- **依存性注入**: .NET DIコンテナの適切な活用
- **非同期プログラミング**: async/awaitパターンの実践
- **LINQ活用**: 効率的なデータ操作の実装
- **メモリ管理**: ガベージコレクションとリソース管理
- **型安全性**: C#の強力な型システムの活用 