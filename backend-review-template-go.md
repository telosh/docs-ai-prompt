# Go バックエンド設計評価テンプレート

## 📋 プロジェクト概要

**プロジェクトの種類**: [例: REST API、gRPC API、マイクロサービス、CLI ツール等]

### 🛠️ 技術スタック
- **Go**: [バージョン]
- **フレームワーク**: [例: Gin, Echo, Fiber, Chi, Gorilla Mux, 標準ライブラリ等]
- **データベース**: [例: PostgreSQL, MySQL, MongoDB, Redis等]
- **ORM**: [例: GORM, Ent, SQLBoiler, 生SQL等]
- **認証・認可**: [例: JWT-go, OAuth2, Casbin等]
- **バリデーション**: [例: go-playground/validator, ozzo-validation等]
- **テスト**: [例: 標準testing, Testify, Ginkgo等]
- **API文書化**: [例: Swagger/OpenAPI, go-swagger等]
- **ログ**: [例: logrus, zap, slog等]
- **その他**: [例: Docker, gRPC, Protocol Buffers, Cobra等]

### 📁 ディレクトリ構造
```
[プロジェクト名]/
├── [ルートディレクトリ構造を記載]
│   ├── 
│   ├── 
│   └── 
├── 
├── 
└── 
```

### 🔗 リポジトリ情報
- **GitHub**: [リポジトリURL（任意）]
- **API URL**: [本番環境URL（任意）]

---

## 📊 評価基準と詳細レビュー

### 1. プロジェクト構成とアーキテクチャ (15点満点)

**評価ポイント**:
- [ ] Go標準的なディレクトリ構成
- [ ] パッケージ設計の適切性
- [ ] 依存関係管理（go.mod、go.sum）
- [ ] レイヤー分離の実装
- [ ] インターフェース設計

**確認項目**:
- Standard Go Project Layoutの遵守
- 循環依存の回避
- パッケージの責任分離
- 設定管理の外部化

### 2. Go言語特性の活用 (20点満点)

**評価ポイント**:
- [ ] Goらしいコードの記述
- [ ] ゴルーチンとチャネルの適切な使用
- [ ] エラーハンドリングの実装
- [ ] インターフェースの活用
- [ ] 並行処理の安全性

**確認項目**:
- idiomatic Goの実践
- context.Contextの適切な使用
- sync.Mutexやsync.WaitGroupの活用
- メモリリークの回避

### 3. データアクセス層設計 (15点満点)

**評価ポイント**:
- [ ] データベース接続管理
- [ ] トランザクション処理
- [ ] SQLクエリの最適化
- [ ] マイグレーション管理
- [ ] 接続プール設定

**確認項目**:
- database/sqlパッケージの活用
- プリペアドステートメントの使用
- N+1問題の回避
- 適切なインデックス設計

### 4. HTTP API設計と実装 (15点満点)

**評価ポイント**:
- [ ] RESTful設計の原則遵守
- [ ] ミドルウェアの実装
- [ ] ルーティング設計
- [ ] リクエスト・レスポンス処理
- [ ] HTTPステータスコードの適切な使用

**確認項目**:
- net/httpパッケージまたはフレームワークの適切な使用
- JSON処理の実装
- バリデーションの実装
- CORS設定

### 5. エラーハンドリングとログ (15点満点)

**評価ポイント**:
- [ ] エラーの適切な伝播
- [ ] カスタムエラー型の定義
- [ ] ログレベルの設定
- [ ] 構造化ログの実装
- [ ] パニック処理

**確認項目**:
- errors.Wrapの活用
- fmt.Errorfによるエラーメッセージ
- ログの一貫性
- スタックトレースの管理

### 6. テストとコード品質 (10点満点)

**評価ポイント**:
- [ ] 単体テストのカバレッジ
- [ ] テーブル駆動テストの実装
- [ ] モックの活用
- [ ] ベンチマークテスト
- [ ] 統合テスト

**確認項目**:
- testing.Tの適切な使用
- testifyライブラリの活用
- テストヘルパー関数
- CI/CDでのテスト自動化

### 7. パフォーマンスと運用 (10点満点)

**評価ポイント**:
- [ ] メモリ効率の最適化
- [ ] CPU使用率の最適化
- [ ] プロファイリングの実装
- [ ] メトリクス収集
- [ ] ヘルスチェック実装

**確認項目**:
- pprofの活用
- メモリリークの検出
- ガベージコレクションの理解
- 監視エンドポイントの実装

---

## 🎯 評価実行のための確認項目

### 📋 詳細チェックリスト

#### プロジェクト構成
- [ ] go.modファイルが適切に設定されているか
- [ ] ディレクトリ構成がGo標準に準拠しているか
- [ ] パッケージの依存関係が適切か
- [ ] 設定ファイルが環境別に管理されているか

#### Go言語特性
- [ ] ゴルーチンが適切に使用されているか
- [ ] チャネルによる通信が実装されているか
- [ ] エラーハンドリングがGoらしく実装されているか
- [ ] インターフェースが適切に定義されているか

#### データアクセス
- [ ] データベース接続が適切に管理されているか
- [ ] SQLクエリが最適化されているか
- [ ] トランザクション処理が適切に実装されているか
- [ ] マイグレーションが管理されているか

#### HTTP API
- [ ] ルーティングが適切に設計されているか
- [ ] ミドルウェアが効果的に活用されているか
- [ ] リクエスト・レスポンスの処理が適切か
- [ ] HTTPステータスコードが適切に使用されているか

#### エラーハンドリング
- [ ] エラーが適切に伝播されているか
- [ ] カスタムエラー型が定義されているか
- [ ] ログが構造化されているか
- [ ] パニック処理が実装されているか

#### テスト
- [ ] 単体テストが十分にカバーされているか
- [ ] テーブル駆動テストが実装されているか
- [ ] モックが適切に使用されているか
- [ ] CI/CDでテストが自動実行されているか

---

## 📝 評価レポート出力フォーマット

```markdown
## [プロジェクト名] Go バックエンド設計評価レポート

### 総合スコア: XX / 100点

---

### 項目別評価

| 評価項目 | スコア | 評価理由 |
| :--- | :---: | :--- |
| **プロジェクト構成とアーキテクチャ** | X/15 | [具体的な評価理由を記載] |
| **Go言語特性の活用** | X/20 | [具体的な評価理由を記載] |
| **データアクセス層設計** | X/15 | [具体的な評価理由を記載] |
| **HTTP API設計と実装** | X/15 | [具体的な評価理由を記載] |
| **エラーハンドリングとログ** | X/15 | [具体的な評価理由を記載] |
| **テストとコード品質** | X/10 | [具体的な評価理由を記載] |
| **パフォーマンスと運用** | X/10 | [具体的な評価理由を記載] |

---

### 💎 優れた点

- [特に優れていると感じた設計や実装を具体的に記載]
- [Go言語特性の活用方法]
- [並行処理の実装]
- [パフォーマンス最適化]

---

### 🛠️ 改善提案

#### **[提案1: タイトル]**
- **現状の課題**: [具体的な問題点を記載]
- **改善案**: [解決方法を記載]
- **優先度**: [高/中/低]
- **コード例**:
```go
// Before (現状)
[現在のコード例]

// After (改善後)
[改善後のコード例]
```

#### **[提案2: タイトル]**
- **現状の課題**: [具体的な問題点を記載]
- **改善案**: [解決方法を記載]
- **優先度**: [高/中/低]
- **コード例**:
```go
// Before (現状)
[現在のコード例]

// After (改善後)
[改善後のコード例]
```

---

### 📚 参考資料

- [Go公式ドキュメント](https://golang.org/doc/)
- [Effective Go](https://golang.org/doc/effective_go)
- [Go Code Review Comments](https://github.com/golang/go/wiki/CodeReviewComments)
- [Standard Go Project Layout](https://github.com/golang-standards/project-layout)
- [Go Testing](https://golang.org/pkg/testing/)

---

### 📞 次のステップ

1. **高優先度の改善項目から着手**
2. **コードレビュー基準の統一**
3. **CI/CDパイプラインの強化**
4. **監視・ログシステムの改善**

---

*評価日: [YYYY/MM/DD]*
*評価者: [評価者名]*
```

---

## 💡 使用方法

1. **プロジェクト概要の記入**: 技術スタックとディレクトリ構造を記載
2. **チェックリストの実行**: 各評価項目を順番に確認
3. **スコアリング**: 各項目を満点で評価
4. **レポート作成**: 評価結果をまとめてレポート作成
5. **改善計画の策定**: 優先度順に実装計画を立てる

---

## 📝 Go特有の評価ポイント

- **Idiomatic Go**: Goらしいコードの記述
- **並行処理**: ゴルーチンとチャネルの適切な活用
- **エラーハンドリング**: Goのエラー処理パターンの実践
- **パフォーマンス**: 高パフォーマンスの実現
- **シンプルさ**: Goの哲学に基づいたシンプルな設計 